<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <h1>회원정보</h1>
    <a href="/">홈으로 이동하기</a>
    <ul>
        <% for (let i=0; i < commentInfos.length; i++) { %>
            <li>
                <b>
                    <%= commentInfos[i].userId %>
                </b> -
                <a href="/comment/<%= i + 1 %>">
                    <%= commentInfos[i].comment %>
                </a>
            </li>
            <% } %>
    </ul>
    <h1>회원정보추가</h1>
    <label for="이름">이름</label>
    <input type="text" id="이름" />
    <br />
    <label for="성별">성별</label>
    <select id="성별">
        <option value="남자">남자</option>
        <option value="여자">여자</option>
    </select>
    <br />
    <label for="전공">전공</label>
    <input type="text" id="전공" />
    <br />
    <button onclick="submitHandler()">제출</button>

    <script>
        function submitHandler() {
            const name = document.getElementById('이름').value
            const gender = document.getElementById('성별').value
            const j = document.getElementById('전공').value

            axios({
                method: 'post',
                url: '/addUser',
                data: {
                    name, gender, j
                }
            }).then(() => {
                window.location.href = '/comments'
            })

        }
    </script>
</body>

</html>